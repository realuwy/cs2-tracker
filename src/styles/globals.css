@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---- Base / Resets ---- */
:root { color-scheme: dark; }

html, body { height: 100%; }

@layer base {
  body {
    @apply bg-bg text-text antialiased;
  }

  /* Default border color everywhere so borders look consistent
     (still respects border width utilities) */
  * { @apply border-border; }

  /* Selection matches neon accent */
  ::selection {
    background: theme(colors.accent.DEFAULT / 0.25);
    color: theme(colors.text);
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* ---- Components ---- */
@layer components {
  /* Shells */
  .card  { @apply rounded-2xl border bg-surface/60 shadow-card; }
  .menu  { @apply rounded-xl  border bg-surface p-2 shadow-card; }
  .modal { @apply rounded-2xl border bg-surface p-6 text-text shadow-card; }
  .panel { @apply rounded-xl  border bg-surface2/70; }
  .menu-panel { @apply rounded-xl border bg-surface p-2 shadow-xl; }

  /* Buttons */
  .btn               { @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold transition; }
  .btn:focus-visible { @apply outline-none ring-2 ring-accent/30; }
  .btn:disabled      { @apply opacity-60 cursor-not-allowed; }

  .btn-ghost  { @apply btn border bg-surface2/70 hover:bg-surface; }
  .btn-danger { @apply btn text-red-300 hover:bg-red-400/10; }

  /* Primary neon CTA */
  .btn-accent {
    @apply btn bg-accent text-black hover:bg-accent-hover;
    --tw-shadow-color: theme(colors.accent.glow);
    box-shadow: 0 0 18px var(--tw-shadow-color);
  }

  /* Forms */
  .input  { @apply w-full rounded-xl border bg-surface2/70 px-3 py-2 text-sm text-text outline-none focus:ring-2 focus:ring-accent/30; }
  .select { @apply input pr-8; }
  .label  { @apply mb-1 block text-xs text-muted; }

  /* Badges */
  .badge        { @apply inline-flex items-center rounded-md px-1.5 py-0.5 text-[10px] font-medium; }
  .badge-accent { @apply badge bg-accent/15 text-accent; }

  /* Links */
  .link-muted { @apply text-muted hover:text-text transition; }

  /* Header active-link underline */
  .neon-underline { position: relative; }
  .neon-underline::after {
    content: "";
    position: absolute;
    left: 0; bottom: -1px;
    height: 2px; width: 100%;
    border-radius: 9999px;
    background: theme(colors.accent.DEFAULT);
    --tw-shadow-color: theme(colors.accent.glow);
    box-shadow: 0 0 8px var(--tw-shadow-color);
  }
}

/* ---- Utilities ---- */
@layer utilities {
  .text-muted   { @apply text-muted; }
  .surface-blur { @apply bg-surface/80 backdrop-blur supports-[backdrop-filter]:bg-surface/70; }

  /* Subtle custom scrollbar */
  .thin-scrollbar { scrollbar-width: thin; scrollbar-color: theme(colors.border) transparent; }
  .thin-scrollbar::-webkit-scrollbar { width: 8px; height: 8px; }
  .thin-scrollbar::-webkit-scrollbar-thumb {
    background-color: theme(colors.border);
    border-radius: 9999px;
  }
}

